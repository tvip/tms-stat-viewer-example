import{p as C,m as k,g as w,r as m,u as R,c as o,f as U,b,a as _,d as T,e as $,h as j,i as B,j as E,w as V,v as g,k as f,o as A,V as D,l as S,n as M,q as h,s as O}from"./index-1c22fdc0.js";import{u as K,V as q,a as z,b as G,c as I}from"./index-9c6cdd9f.js";import{m as W,c as H,u as J,V as Q,a as v,h as X,p as Y}from"./VTextField-4f514115.js";const Z=C({...k(),...W()},"VForm"),ee=w()({name:"VForm",props:Z(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,l){let{slots:t,emit:r}=l;const a=H(e),u=m();function c(i){i.preventDefault(),a.reset()}function d(i){const s=i,n=a.validate();s.then=n.then.bind(n),s.catch=n.catch.bind(n),s.finally=n.finally.bind(n),r("submit",s),s.defaultPrevented||n.then(F=>{var p;let{valid:L}=F;L&&((p=u.value)==null||p.submit())}),s.preventDefault()}return R(()=>{var i;return o("form",{ref:u,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:c,onSubmit:d},[(i=t.default)==null?void 0:i.call(t,a)])}),U(a,u)}}),P=(()=>b.reduce((e,l)=>(e[l]={type:[Boolean,String,Number],default:!1},e),{}))(),N=(()=>b.reduce((e,l)=>{const t="offset"+_(l);return e[t]={type:[String,Number],default:null},e},{}))(),x=(()=>b.reduce((e,l)=>{const t="order"+_(l);return e[t]={type:[String,Number],default:null},e},{}))(),y={col:Object.keys(P),offset:Object.keys(N),order:Object.keys(x)};function te(e,l,t){let r=e;if(!(t==null||t===!1)){if(l){const a=l.replace(e,"");r+=`-${a}`}return e==="col"&&(r="v-"+r),e==="col"&&(t===""||t===!0)||(r+=`-${t}`),r.toLowerCase()}}const ae=["auto","start","end","center","baseline","stretch"],le=C({cols:{type:[Boolean,String,Number],default:!1},...P,offset:{type:[String,Number],default:null},...N,order:{type:[String,Number],default:null},...x,alignSelf:{type:String,default:null,validator:e=>ae.includes(e)},...k(),...T()},"VCol"),se=w()({name:"VCol",props:le(),setup(e,l){let{slots:t}=l;const r=$(()=>{const a=[];let u;for(u in y)y[u].forEach(d=>{const i=e[d],s=te(u,d,i);s&&a.push(s)});const c=a.some(d=>d.startsWith("v-col-"));return a.push({"v-col":!c||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),a});return()=>{var a;return j(e.tag,{class:[r.value,e.class],style:e.style},(a=t.default)==null?void 0:a.call(t))}}}),oe={class:"d-flex align-center justify-center",style:{height:"100vh"}},ie=B({__name:"Login",setup(e){const l=K(),t=J(),r=m(!1),a=m(l.target),u=m(),c=m();function d(){a.value&&u.value&&c.value&&(l.target=a.value,l.token=btoa(u.value+":"+c.value),X.defaults.baseURL=l.target,Y.collection({start:0,limit:-1,sort:[],enabled:null}).then(i=>{t.setProviders(i.data.data),O.push({name:"stat"})}))}return(i,s)=>(A(),E("div",oe,[V(o(D,{indeterminate:"",color:"primary"},null,512),[[g,r.value]]),V(o(Q,{width:"400",class:"mx-auto"},{default:f(()=>[o(q,null,{default:f(()=>[o(z,null,{default:f(()=>[S(" TMS Stat view tool ")]),_:1}),o(G,null,{default:f(()=>[o(se,null,{default:f(()=>[o(ee,{"fast-fail":"",onSubmit:M(d,["prevent"])},{default:f(()=>[o(v,{variant:"outlined",modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=n=>a.value=n),label:"URL"},null,8,["modelValue"]),o(v,{variant:"outlined",modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=n=>u.value=n),label:"Username"},null,8,["modelValue"]),o(v,{type:"password",variant:"outlined",modelValue:c.value,"onUpdate:modelValue":s[2]||(s[2]=n=>c.value=n),label:"Password"},null,8,["modelValue"]),o(h,{onClick:d,type:"submit",color:"primary",block:!0,class:"mt-2"},{default:f(()=>[S("Sign in")]),_:1})]),_:1})]),_:1})]),_:1}),o(I,null,{default:f(()=>[o(h,{href:"https://github.com/tvip/tms-stat-viewer-example",flat:!0,icon:"mdi-github"})]),_:1})]),_:1})]),_:1},512),[[g,!r.value]])]))}});export{ie as default};
